@model List<ARManila.Models.ReportsDTO.DiscountSummaryDTO>
@{
    ViewBag.Title = "Discount Summary";
}
<nav class="breadcrumb push bg-body-extra-light rounded-pill">
    <span class="breadcrumb-item">Report Menu</span>
    <span class="breadcrumb-item active">Consolidated Discount Summary</span>
</nav>


@using (Html.BeginForm())
{
<div class="row">
    <div class="form-group col-md-3">
        <label>Start Date</label>
        <input type="date" value="@ViewBag.asofdate" id="startdate" name="startdate" class="form-control" required />
    </div>
    <div class="form-group col-md-3">
        <label>End Date</label>
        <input type="date" value="@ViewBag.asofdate" id="enddate" name="enddate" class="form-control" required />
    </div>
    <div class="form-group col-md-3">
        <label>View As</label>
        <select id="viewas" name="viewas" class="form-select">
            <option value="1">Web</option>
            <option value="2">PDF</option>
            <option value="3">Excel</option>
        </select>
    </div>
    <div class="form-group col-md-3">
        <label>Report Type</label>
        <select id="reporttype" name="reporttype" class="form-select">
            <option value="1">Original</option>
            <option value="2">Sum</option>
            <option value="3">Sum-Tuition</option>
        </select>
    </div>
    <div class="form-group col-md-4">
        <input type="submit" value="View" class="form-control btn btn-primary" />
    </div>
</div>
}

@if (Model != null)
{
    <div class="block block-rounded">
        <div class="block-content">
            <div class="table-responsive">
                @foreach (var group in Model.GroupBy(m => new { m.AccountNo, m.AccountName }))
                {
                    <table id="arquerytable" class="table table-striped table-bordered table-hover">
                        <caption style="caption-side: top">@group.Key.AccountName - @group.Key.AccountNo</caption>
                        <thead>
                            <tr class="bg-gray-light">
                                <th>Student No</th>
                                <th>Student Name</th>
                                <th>Year</th>
                                <th>Program</th>
                                <th>Category</th>
                                <th>Tuition</th>
                                <th>Aircon</th>
                                <th>Lab</th>
                                <th>Misc</th>
                                <th>Supp</th>
                                <th>Various</th>
                                <th>Others</th>
                                <th>Total</th>
                                <th>Source</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in group)
                            {
                                <tr>
                                    <td>@item.StudentNo</td>
                                    <td>@item.StudentName</td>
                                    <td>@item.GradeYear</td>
                                    <td>@item.ProgramCode</td>
                                    <td>@item.Category</td>
                                    <td align="right">@item.DiscountT.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountA.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountL.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountM.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountS.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountV.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountO.ToString("#,##0")</td>
                                    <td align="right">@item.DiscountTotal.ToString("#,##0")</td>
                                    <td>@item.Source</td>
                                </tr>

                            }
                        </tbody>
                    </table>
                }
            </div>
        </div>
    </div>  
}

@section scripts {
    <script>

    </script>
}
